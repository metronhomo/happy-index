{
    "contents" : "library(shiny)\nlibrary(shinythemes)\n\nshinyUI(navbarPage(\"\",theme = shinytheme(\"flatly\"),\n                   \n                  \n                   tabPanel(\"Objetivo del estudio\",\n                            column(8,imageOutput('imagen1')),\n                            column(4,\n                                   wellPanel(h1('El',span('\"Happy Index\"' , style = \"color:red\"), \n                                                  'surge de la necesidad de tener un \n                                                   monitor sobre la salud laboral del grupo, esto con \n                                                   el fin de mantener la rotación en un nivel manejable \n                                                   y, además, encontrar cuáles son los drivers que \n                                                   influyen en la percepción de \n                                                   felicidad en los trabajadores.',align=\"justify\"),\n                                             style = \"background-color: white;\")\n                                      ),\n                            column(1)),\n                   navbarMenu(\"Estructura de la batería\",\n                              tabPanel(\"Consistencia de la batería\",\n                                       fluidPage(\n                                         \n                                         column(4,\n                                                fluidRow(\n                                           wellPanel(\n                                             \n                                            \n                                             h2(\"Análisis de correlaciones\",align=\"center\"),\n                                             p(\"Esta gráfica nos dice cómo se relacionan las preguntas (de ahora en adelante referidos como'items') \n                                               de la batería entre sí.\", style = \"font-size:16pt\"),\n                                             p('Se obtuvo un Alpha de Cronbach superior a 0.8 y una\n                                               Lambda de Gutman mayor a 0.8; esto nos dice que los elementos de la batería se correlacionan\n                                               positivamente y de manera significativa.', style = \"font-size:16pt\")\n                                             )),\n                                           fluidRow(wellPanel(\n                                             style = \"background-color: #2c3e50;\",\n                                             h2('¿Qué significa?',align=\"center\",style = \"color:#C2D1E0\"),\n                                             p('Los puntos azules indican una correlación positiva, mientras que en rojo se encuentran los que tienen correlación \n                                               negativa. Entre más grandes y obscuros sean los puntos mayores son las correlaciones.', style = \"color:#C2D1E0; font-size:16pt\"),\n                                             p('En la gráfica se observan pequeños conglomerados de correlaciones, por ejemplo vemos que las variables \n                                               relacionadas con la evaluación del \"jefe\" tienen correlaciones altas entre sí.',\n                                               style = \"color:#C2D1E0; font-size:16pt\"),\n                                             p('Este análisis nos dice que la batería es consistente, en otras palabras, es correcto construir un índice\n                                               general',style = \"color:#C2D1E0; font-size:16pt\")\n\n\n                                           )\n                                           )),\n                                           column(8,\n                                             plotOutput('plot1',width = \"100%\"),\n                                             align=\"center\"\n                                           )\n                                         )\n                                       \n                              ),\n                              tabPanel(\"Dimensionalidad de la batería\",\n                                       fluidPage(\n                                         \n                                         \n                                           column(4,wellPanel(\n                                             h2(\"Análisis de factores\",align=\"center\"),\n                                           \n                                             p(\"El análisis factorial señala que el número óptimo de factores es 5. La \n                                               gráfica nos indica del lado izquierdo la agrupación de los items en factores, y los números\n                                               representan la varianza de la variable explicada por el factor asocicado.\",style = \"font-size:14pt\"),\n                                             h2(\"Mapa de correlaciones\",align=\"center\"),\n                                             p(\"Por otro lado, el mapa de correlaciones nos da la versión gráfica de una matriz de correlaciones, \n                                               las variables están iluminadas de 5 colores distintos, correspondientes a los 5 \n                                               factores que se encontraron.\",style = \"font-size:14pt\"),\n                                             radioButtons(\"gcor\", label = h3(\"Gráficos de dimensionalidad\",align=\"center\",style = \"font-size:14pt\"),\n                                                          choices = list(\"Análisis de Factores\" = 1, \"Mapa de Correlaciones\" = 2), \n                                                          selected = 1)\n                                              ),\n                                             wellPanel(\n                                               style = \"background-color: #2c3e50;\",\n                                               h2('¿Qué significa?',align=\"center\",style = \"color:#C2D1E0\"),\n                                               p('La batería se construyó tomando en cuenta 8 dimensiones. Analizando los modelos con cinco, seis, siete y ocho factores \n                                                  encontramos que el modelo con cinco es el que mejor explica la bateria.\n                                                  Esto pues las correlaciones entre los factores nos dicen que las 5 dimensiones son rasgos de una característica general: \n                                                  la satisfacción laboral del empleado.',style = \"color:#C2D1E0; font-size:14pt\"),\n                                               p('En el mapa de correlaciones las variables más cercanas tienen una relación más fuerte y viceversa.',style = \"color:#C2D1E0; font-size:14pt\")\n                                               \n                                               \n                                               )\n                                             ),\n                                           column(8, align=\"center\",\n                                                  conditionalPanel(\n                                                    condition = \"input.gcor==1\",\n                                                    imageOutput(\"factores\")\n                                                  ),\n                                                  conditionalPanel(\n                                                    condition = \"input.gcor==2\",\n                                                    plotOutput(\"qgraph\")\n                                                  ))\n                                           )\n                                       )\n                              ),\n                   tabPanel(\"Dimensiones de la batería\",\n                            fluidPage(\n                              \n                              \n                              column(12,wellPanel(\n                                style = \"background-color: #FF5050;\",\n                                h2('Ambiente'),\n                                h4(strong('En esta dimensión se encuentran las variables que reflejan el sentir \n                                  del empleado dentro de la organización.'),style = \"font-size:15pt\"),\n                                p('La conforman la percepción de capacidad de desarrollo y habilidades, las oportunidades de crecer, \n                                  la identificación con la empresa, el sentimiento de orgullo asociado, el sentir general y la \n                                  percepción de las metas familiares como asequibles.',style = \"font-size:15pt\")\n                                \n                                \n                              ),wellPanel(\n                                style = \"background-color: #FFFF99;\",\n                                h2('Convivencia'),\n                                h4(strong('Esta dimensión resume el sentir del empleado alrededor de sus interacciones con sus compañeros.'),style = \"font-size:15pt\"),\n                                p('La integran las percepciones que se tienen sobre sus compañeros, desde si son agradables, si los \n                                  considera como parte de su familia, si considera que estos proveen un trabajo de calidad, si \n                                  cree que pueden llegar a ser sus amigos, si se siente parte de un equipo, si sus compañeros reconocen \n                                  su trabajo y si se siente motivado por el ambiente.',style = \"font-size:15pt\")\n                                \n                                \n                              ),wellPanel(\n                                style = \"background-color: #99FF99;\",\n                                h2('Percepción del jefe inmediato'),\n                                h4(strong('Esta dimensión habla de la percepción que se tiene del jefe inmediato.'),style = \"font-size:15pt\"),\n                                p('Esta constituida la percepción del jefe como ejemplo a seguir, su accesibilidad, su capacidad de \n                                  liderazgo y el interés que el empleado percibe por parte del mismo.',style = \"font-size:15pt\")\n                                \n                                \n                                ),wellPanel(\n                                  style = \"background-color: #3399FF;\",\n                                  h2('Reconocimiento'),\n                                  h4(strong('Esta dimensión refleja el reconocimiento que siente tener el empleado.'),style = \"font-size:15pt\"),\n                                  p('Sus items componentes son la percepción del reconocimiento en la última semana, \n                                      reconocimiento del trabajo excepcional, el sentir que su opinión cuenta y el \n                                      tener un equipo necesario para trabajar',style = \"font-size:15pt\")\n                                  \n                                  \n                                ),wellPanel(\n                                  style = \"background-color: #9999FF;\",\n                                  h2('Seguridad'),\n                                  h4(strong('Esta dimensión se refiere a la seguridad que el empleado tiene sobre su plaza.'),style = \"font-size:15pt\"),\n                                  p('La componen la seguridad de mantener el trabajo a corto y largo plazo, así como \n                                    la percepción de objetivos claros.',style = \"font-size:15pt\")\n                                  \n                                  \n                                  )\n                                \n                              )\n                            )\n                   ),\n                   \n                   tabPanel(\"Gráficas\",\n                            fluidPage(column(3,\n                                  wellPanel(\n                                    selectInput('filtrovar',label=h4('Variable de filtro'),\n                                                    choices=list( \"Plaza\" = \"PLAZA\",\n                                                                  \"División\" = \"División\",\n                                                                  \"Ubicación\" = \"Ubicación\",\n                                                                  \"Territorio\" = \"Territorio\",\n                                                                  \"Zona\" = \"Zona\",\n                                                                  \"Género\" = \"SEXO\",\n                                                                  \"Edad\" = \"EDAD_C\",\n                                                                  \"Antigüedad\" = \"ANTIGUEDAD_C\",\n                                                                 \"Total\"),\n                                               selected=\"Total\"\n                                             ),\n                                             radioButtons('filtrocat',label=h4('Categoría de filtro'),\n                                                          choices=list('MASCULINO'='MASCULINO','FEMENINO'='FEMENINO')),\n                                    helpText('Selecciona la variable sobre la que quieres filtrar.')\n                                             ),\n                              wellPanel(\n                                selectInput(\"facet\", label = h4(\"Variable 1\"), \n                                            choices = list( \"Género\" = \"SEXO\", \n                                                            \"Plaza\" = \"PLAZA\",\n                                                            \"División\" = \"División\",\n                                                            \"Ubicación\" = \"Ubicación\",\n                                                            \"Territorio\" = \"Territorio\",\n                                                            \"Zona\" = \"Zona\",\n                                                            \"Edad\" = \"EDAD_C\",\n                                                            \"Antigüedad\" = \"ANTIGUEDAD_C\",\n                                                            \"Total\"), selected = \"Total\"),\n                                \n                                selectInput(\"variable\", label = h4(\"Variable 2\"), \n                                            choices=list(\"Admiro el liderazgo de mi jefe\"=\"jefe.liderazgo\",\n                                                         \"Así me siento por trabajar en Elektra\"=\"as<ed>.me.siento\",\n                                                         \"Considero que mi jefe es un ejemplo a seguir\"=\"jefe.ejemplo\",\n                                                         \"Considero que soy parte de un equipo\"=\"soy.parte.equipo\",\n                                                         \"Cuando pienso en mi futuro, tengo la seguridad que trabajré aquí los próximos 3 años\"=\"seguridad.largo.plazo\",\n                                                         \"Dentro de Elektra estimulan mi desarrollo profesional y humano\"=\"desarrollo.prof.y.humano\",\n                                                         \"El ambiente laboral me motiva a dar lo mejor de mi\"=\"ambiente.motiva\",\n                                                         \"Elektra me da la oportunidad de desarrollar mis habilidades\"=\"oportunidad.des.habilidades\",\n                                                         \"En Elektra me hacen sentir que mi trabajo es importante\"=\"mi.trabajo.importa\",\n                                                         \"En Elektra se reconocen a las personas que realizan trabajo excepcional\"=\"reconocen.trabajo.excepcional\",\n                                                         \"En la última semana han reconocido mi esfuerzo\"=\"reconocimiento.ultima.semana\",\n                                                         \"Estoy seguro de mantener mi trabajo el próximo mes\"=\"seguridad.corto.plazo\",\n                                                         \"Me identifico con la misión y los valores de Elektra\"=\"me.identifico\",\n                                                         \"Me siento orgulloso de pertenecer a Elektra\"=\"estoy.orgulloso\",\n                                                         \"Mi jefe muestra interés en mi sentir como persona y no sólo como empleado\"=\"jefe.se.interesa.en.m<ed>\",\n                                                         \"Mis compañeros de trabajo son como mi segunda familia\"=\"companeros.familia\",\n                                                         \"Mis compañeros están comprometidos a brindar un trabajo de calidad\"=\"companeros.calidad\",\n                                                         \"Mis compañeros reconocen mi progreso\"=\"companeros.reconocen\",\n                                                         \"Mis opiniones son tomadas en cuenta\"=\"mi.opini<f3>n.cuenta\",\n                                                         \"Por lo general mis compañeros de trabajo son agradables\"=\"companeros.agradables\",\n                                                         \"Se pueden tener buenos amigos en el trabajo\"=\"companeros.amigos\",\n                                                         \"Si tuviera que definir como es mi jefe, sería de la siguiente forma\"=\"jefe.accesible\",\n                                                         \"Siento que puedo realizar mis metas familiares, trabajando en Elektra\"=\"metas.familiares\",\n                                                         \"Tengo claros los objetivos de mi puesto\"=\"objetivos.claros\",\n                                                         \"Tengo el material y equipo necesario para hacer correctamente mi trabajo\"=\"equipo.necesario\",\n                                                         \"Score\"= \"score\",\n                                                         \"Score Ambiente\" = \"score_ambiente\",\n                                                         \"Score Conveniencia\" = \"score_convivencia\",\n                                                         \"Score Jefe\" = \"score_jefe\",\n                                                         \"Score Seguridad\" = \"score_seguridad\",\n                                                         \"Score Reconocimiento\" = \"score_reconocimiento\")\n                                            \n                                ),\n                                helpText('Selecciona las variables con las que deseas crear el cruce, para obtener las frecuencias simples \n                                         selecciona como primer variable \"Total\".')\n                                )),\n                              column(9,\n                                   plotOutput(\"descriptivo\",height=1000,width=1300),align=\"center\")\n                              \n                   )),\n                   \n                   \n                   \n                   \n                   \n                   navbarMenu('Análisis secundario',\n                              tabPanel('Importancia de las variables',\n                                       fluidPage(\n                                         column(3,\n                                                wellPanel(\n                                                  h2(\"Importancia de las variables\",align=\"center\"),\n                                                  p(\"Haciendo uso de la equivalencia entre IRT y el análisis factorial se obtuvieron\n                                                    los pesos para cada una de las preguntas que forman la bateria para el índice.\",\n                                                    style = \"font-size:16pt\"),\n                                                  p('En la gráfica derecha mostramos  cada una de las preguntas de la bateria \n                                                    ordenadas por la importancia que tuvieron para la creación del índice'\n                                                    ,style = \"font-size:16pt\")\n                                                  \n                                                  ), wellPanel(\n                                                    style = \"background-color: #2c3e50;\",\n                                                    h2('¿Qué significa?',align=\"center\",style = \"color:#C2D1E0\"),\n                                                    p('Vemos que la pregunta más importante es la que indica cómo se sienten los trabajadores;\n                                                      podemos ver también que cinco de los primeros diez lugares los ocupan preguntas que\n                                                      pertenecen a la dimensión de \"Ambiente\".',style = \"color:#C2D1E0; font-size:16pt\")\n                                                    )\n                                                    ),\n                                         column(9,\n                                                plotOutput('graf_pesos',width = \"100%\"),\n                                                align=\"center\"\n                                         )\n                                                    )),\n                              tabPanel('Importancia de las dimensiones',\n                                       fluidPage(\n                                         column(3,\n                                                wellPanel(\n                                                  h2(\"Importancia de las dimensiones\",align=\"center\"),\n                                                  p(\"Para cada una de las 5 dimensiones se calculó un índice. Estos índices se utilizaron en un modelo de bosques \n                                                    aleatorios para explicar al índice general; como resultado se obtuvo que el 98% de la variablildad del índice\n                                                    general se explica con estas cinco variables.\",style = \"font-size:16pt\"),\n                                                  p('En la gráfica de la derecha se puede ver qué tan importante es cada una de las dimensiones para explicar al score\n                                                    general.',style = \"font-size:16pt\")\n                                                  \n                                                  ), wellPanel(\n                                                    style = \"background-color: #2c3e50;\",\n                                                    h2('¿Qué significa?',align=\"center\",style = \"color:#C2D1E0\"),\n                                                    p('Los rubros de ambiente y convivencia son los que \n                                                      mayor impacto tienen en la felicidad percibida \n                                                      por los empleados. Sin embargo la escala es corta, es decir,  \n                                                      a pesar de que el score de reconocimiento sale como el \"menos\" importante, sigue \n                                                      siendo influyente en la calificación general.',style = \"color:#C2D1E0; font-size:16pt\")\n                                                    )\n                                                    ),\n                                         column(9,\n                                                plotOutput('importancia',width = \"100%\"),\n                                                align=\"center\"\n                                         )\n                                                    )),\n                              tabPanel('Información de los items',\n                                       fluidPage(\n                                         column(3,\n                                                wellPanel(\n                                                  h2('Curvas de información',align=\"center\"),\n                                                  p('En esta gráfica se muestran las trazas de información de los items. Aquí encontramos que tanto\n                                                    aporta cada item para discernir entre la felicidad de los socios.',style = \"font-size:16pt\")\n                                                ), wellPanel(\n                                                  style = \"background-color: #2c3e50;\",\n                                                  h2('¿Qué significa?',style = \"color:#C2D1E0\",align=\"center\"),\n                                                  p('Dependiendo de en donde se encuentre el pico de la distribución podemos inferir el lugar en el que \n                                                    tiene impacto, por ejemplo la primer variable \"objetivos claros\" discrimina del lado más bajo de la escala,\n                                                    es decir nos da información sobre las personas más infelices.\n                                                    ',style = \"color:#C2D1E0; font-size:16pt\"),\n                                                  p('Por otro lado la altura de las distribuciones nos indica que tan bien discrimina el item, por ejemplo,\n                                                     la variable \"mi opinión cuenta\" discrimina muy bien en el centro de la escala.',style = \"color:#C2D1E0; font-size:16pt\")\n                                                )),\n                                         column(9,\n                                                imageOutput('discriminacion'),\n                                                align=\"center\"\n                                                )\n                                       )),\n                              tabPanel('Estructura relacional de los items',\n                                       fluidPage(column(4,\n                                                        wellPanel(\n                                                          h2('Red condicional bayesiana',align=\"center\"),\n                                                          p('Este modelo crea una gráfica direccionada utilizando las probabilidades condicionales entre las \n                                                            variables',style = \"font-size:16pt\")\n                                                        ), wellPanel(\n                                                          style = \"background-color: #2c3e50;\",\n                                                          h2('¿Qué significa?',align=\"center\",style = \"color:#C2D1E0\"),\n                                                          p('Supongamos que tenemos temas específicos sobre los cuáles queremos mejorar los resultados; con este modelo\n                                                            obtenemos cuáles son los caminos que debemos de seguir para lograr esas mejoras. Por ejemplo, si quisiéramos  \n                                                            lograr que los trabajadores sintieran que su trabajo importa tendríamos que trabajar para lograr que sientan\n                                                            que el ambiente de trabajo en el que están los motiva y además trabajar en que exista un sentido de pertenencia \n                                                            a un equipo; esto último se logra fomentando el compañerismo (mis compañeros son de calidad, son mis amigos, son agradables,\n                                                            son como mi segunda familia).',style = \"color:#C2D1E0; font-size:16pt\"),\n                                                          p('De nuevo confirmamos la importancia de las dimensiones de ambiente y convivencia al ver que las \n                                                            variables que las componen se ubican en la parte superior de la red.',style = \"color:#C2D1E0; font-size:16pt\")\n                                                          )),\n                                                        column(8,\n                                                               imageOutput('red',width=900, height = 900),\n                                                               align=\"center\"\n                                                        ))\n                              \n                              )\n),\ntabPanel(\"Conclusiones\",\n         fluidPage(\n        column(12,wellPanel(\n               style = \"background-color: #2c3e50;\",\n               h2(strong('Conclusiones Generales',style = \"color:#C2D1E0\")),\n               p('El objetivo principal de este trabajo es encontrar una forma de cuantificar la salud laboral de\n                 los socios con la finalidad de controlar el problema de rotación.',style = \"color:#C2D1E0;font-size:16pt\"),\n               p('Utilizando la información de los modelos llegamos a las siguientes recomendaciones que nos ayudarán a \n                 atacar este problema de forma duradera:',\n                 tags$ul(\n                   tags$li(\"Necesitamos crear un sentido de pertenencia y orgullo entre los socios.\"),\n                   tags$li(\"Para hacer esto necesitamos trabajar sobre dos líneas: la humana y la del trabajo.\"),\n                   tags$li(\"Para trabajar sobre la línea humana tenemos que\", strong(\" fomentar \"),\"en los socios un sentido de\", \n                           strong(\"pertenencia \"), \"a su equipo de trabajo,\", strong(\"generar un ambiente \"), \"que los motive a dar lo mejor y \", \n                           strong(\"reconocer su trabajo.\"), \"Es decir, hay que trabajar sobre las dimensiones de convivencia y reconocimiento.\"),\n                   tags$li(\"Para trabajar sobre la línea de trabajo tenemos que hacerle saber a los socios que es posible\",strong(\" desarrollar\n                           todas sus habilidades \"), \"tanto profesionales como humanas dentro del grupo; más aún, que el desarrollo de \n                           estas les permitirá \", strong(\"crear carrera \"),\"y así podrán lograr todas las \",strong(\"metas familiares \"),\"que tienen. \n                           Es decir, hay que trabajar sobre la dimensión de Ambiente.\"),\n                   tags$li(\"Haciendo lo anterior obtendremos además, una mejora en la percepción de seguridad que tienen los socios de mantener su \n                           trabajo a corto y largo plazo dentro del grupo.\"),\n                   tags$li(\"Creemos importante mencionar que a la par hay que asegurarnos que los socios tengan todos los materiales de\n                           trabajo que requiere su puesto, pues probablemente alrededor de esta variable puede construirse una dimensión \n                           que propicie mejoras en las dos líneas de trabajo antes mencionadas\"),\n                   style = \"color:#C2D1E0;font-size:16pt\"\n                  ),style = \"color:#C2D1E0;font-size:16pt\")\n               ),\n               wellPanel(\n                 style = \"background-color: #2c3e50;\",\n                 h2(strong('Análisis de la batería'),style=\"color:#C2D1E0\"),\n                 p('Con el análisis de estructura encontramos que la batería es consistente y que estadísticamente \n                   es válido suponer la existencia de un índice que resuma la información de ésta.',\n                   style = \"color:#C2D1E0;font-size:16pt\"),\n                 p('Encontramos que para mejorar la salud laboral del grupo hay que trabajar en cinco aspectos: ',\n                   tags$ul(\n                     tags$li(strong(\"Ambiente: \"), \"agrupa las preguntas relacionadas a desarrollo de habilidades,\n                             oportunidad de crecer identificación con el grupo y percepción de metas familiares asequibles.\"),\n                     tags$li(strong(\"Convivencia: \"),\"agrupa las preguntas relacionadas con compañerismo, pertenencia a un equipo y ambiente motivador.\"),\n                     tags$li(strong(\"Reconocimiento: \"),\"agrupa las preguntas que describen el reconocimiento que siente el empleado\n                             en el trabajo.\"),\n                     tags$li(strong(\"Percepción del jefe inmediato: \"), \"agrupa las preguntas que hablan sobre el jefe.\"),\n                     tags$li(strong(\"Seguridad: \"),\"agrupa las preguntas relacionadas a la rotación.\"),\n                     style = \"color:#C2D1E0;font-size:16pt\"\n                     ),\n                   style = \"color:#C2D1E0;font-size:16pt\"),\n                 p('Tomando en cuenta estos cinco aspectos se creó un score que cuantifica la felicidad general de los socios. \n                   Con este score y usando conocimiento experto fácilmente podemos establecer un semáforo que nos indique \n                   que tan contento/descontento está cada uno de los socios.',style = \"color:#C2D1E0;font-size:16pt\")\n                 )\n             )\n             )\n        \n  ),tabPanel('Calcular',\n             column(4,wellPanel(fileInput('archivoupload','Elige el archivo .csv',\n                                          accept=c('text/csv',\n                                                   'text/comma-separated-values,text/plain',\n                                                   '.csv'\n                                          )\n             ),\n             tags$hr(),\n             checkboxInput('header','El archivo lleva encabezados',TRUE),\n             radioButtons('sep','Separador',choices=list('Coma'=',','Punto y coma'=';','Tabulador'='\\t','Pipe'='|'))\n             ),\n             \n             conditionalPanel(condition =\"assert:<output.contenido>\",h2('Descarga de la base'),\n                              downloadButton('archivodescarga','Descarga')\n             )\n             ),\n             column(8,tableOutput('contenido'))\n    ),tabPanel(\"Contacto\",\n              column(12,imageOutput('contacto'),align=\"center\"))\n\n))\n\n\n",
    "created" : 1442966236824.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "599951285",
    "id" : "42BF144",
    "lastKnownWriteTime" : 1444073564,
    "path" : "~/Box Sync/Trabajo2/happy index/aplicación/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}